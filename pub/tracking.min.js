document.addEventListener("DOMContentLoaded",function(){let e=!1,t=!1,o=!1,r=!1;const n=document.referrer;let c=new URLSearchParams(window.location.search);/^https?:\/\/(www\.)?google\./i.test(n)&&(c.set("utm_source","google"),c.set("utm_medium","seo"));document.querySelectorAll('a[href*="registro.finapartner.com"]').forEach(e=>{try{const t=new URL(e.href);c.forEach((e,o)=>{t.searchParams.set(o,e)}),e.href=t.toString()}catch(t){console.error("Error procesando URL:",e.href,t)}}),document.querySelectorAll("a").forEach(o=>{o.addEventListener("click",function(){if("undefined"!=typeof fbq){const r=o.getAttribute("href")||"";r.startsWith("https://wa.me/")&&!e?(fbq("track","Contact"),e=!0):r.includes("registro.finapartner.com")&&!t&&(fbq("track","RegistroIniciado"),t=!0)}})});const i=document.querySelector('article[role="presentation"]');i&&i.addEventListener("click",function(){"undefined"==typeof fbq||o||(fbq("track","WatchVideo"),o=!0)}),window.addEventListener("scroll",function(){const e=window.scrollY||window.pageYOffset,t=.3*document.body.scrollHeight;!r&&e>t&&"undefined"!=typeof fbq&&(fbq("track","ViewContent"),r=!0)})});